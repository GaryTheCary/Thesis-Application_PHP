function init(){container=document.getElementById("stack_graph"),camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),camera.position.z=10,scene=new THREE.Scene;var e=new THREE.AmbientLight(1052720);scene.add(e);var n=new THREE.DirectionalLight(16772829);n.position.set(0,0,1),scene.add(n);var i=new THREE.LoadingManager;i.onProgress=function(e,n,i){console.log(e,n,i)};var o=new THREE.OBJLoader(i);o.load("assets/obj/xie.obj",function(e){e.position.y=-80,scene.add(e)}),renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),document.addEventListener("mousemove",onDocumentMouseMove,!1),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(e){mouseX=(e.clientX-windowHalfX)/2,mouseY=(e.clientY-windowHalfY)/2}function animate(){requestAnimationFrame(animate),render()}function render(){camera.position.x+=.05*(mouseX-camera.position.x),camera.position.y+=.05*(-mouseY-camera.position.y),camera.lookAt(scene.position),renderer.render(scene,camera)}var container,camera,scene,renderer,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;init(),animate();