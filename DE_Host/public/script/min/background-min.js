(function(){function e(){return y.goWild=!0}function t(){for(r=document.createElement("div"),r.className="threeDbg",document.body.appendChild(r),h=new THREE.PerspectiveCamera(75,$(window).width()/$(window).height(),5,1e3),h.position.z=1e3,w=new THREE.Scene,w.fog=new THREE.FogExp2(4210752,.0012),w.add(new THREE.AmbientLight(4210752)),E=new THREE.Geometry(1,4,4),T=new THREE.DirectionalLight(16777215),T.position.set(1,1,1),w.add(T),circlegeometry=[],u=0;2e3>u;u++){var e=new THREE.Vector3;e.x=3e3*Math.random()-1e3,e.y=2500*Math.random()-1e3,e.z=2e3*Math.random()-1e3,E.vertices.push(e)}for(console.log(circlegeometry.length),p=[[[1,1,.5],5],[[.95,1,.5],4],[[.85,1,.5],3],[[.75,1,.5],2],[[.65,1,.5],1]],u=0;u<p.length;u++)f=p[u][0],R=p[u][1],console.log(f),m[u]=new THREE.PointsMaterial({size:R*Math.random(0,.25)}),l=new THREE.Points(E,m[u]),l.rotation.x=16*Math.random(),l.rotation.y=6*Math.random(),l.rotation.z=6*Math.random(),w.add(l);c=new THREE.WebGLRenderer({alpha:!0}),c.setPixelRatio(window.devicePixelRatio),c.setSize($(window).width(),$(window).height()),r.appendChild(c.domElement),v=new THREE.EffectComposer(c),v.addPass(new THREE.RenderPass(w,h)),y=new THREE.GlitchPass,y.renderToScreen=!0,v.addPass(y),s=new Stats,s.domElement.style.position="absolute",s.domElement.style.top="0px",r.appendChild(s.domElement),document.addEventListener("mousemove",o,!1),document.addEventListener("touchstart",i,!1),document.addEventListener("touchmove",d,!1),window.addEventListener("resize",n,!1)}function n(){x=$(window).width()/2,L=$(window).height()/2,h.aspect=$(window).width()/$(window).height(),h.updateProjectionMatrix(),c.setSize($(window).width(),$(window).height())}function o(e){P=e.clientX-x,M=e.clientY-L}function i(e){1===e.touches.length&&(vent.preventDefault(),P=e.touches[0].pageX-x,M=e.touches[0].pageY-L)}function d(e){1===e.touches.length&&(e.preventDefault(),P=e.touches[0].pageX-x,M=e.touches[0].pageY-L)}function a(){var e=5e-5*Date.now();for(requestAnimationFrame(a),h.position.x+=.05*(P-h.position.x),h.position.y+=.05*(-M-h.position.y),h.lookAt(w.position),u=0;u<w.children.length;u++){var t=w.children[u];t instanceof THREE.Points&&(t.rotation.y=e*(4>u?u+1:-(u+1)))}for(u=0;u<m.length;u++)f=p[u][0],g=360*(f[0]+e)%360/360,m[u].color.setHSL(g,f[1],f[2]);c.render(w,h),v.render(),s.update()}Detector.webgl||Detector.addGetWebGLMessage();var r,s,h,w,c,l,E,m=[],p,u,g,f,R,v,H,T,y,P=0,M=0,x=$(window).width()/2,L=$(window).height()/2;t(),a()}).call(this);